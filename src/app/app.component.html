<mat-progress-bar mode="buffer"></mat-progress-bar>

<h1>Available Car List</h1>

<h2>Find your car</h2>

<mat-form-field style="width: 200px; margin: 3px; display: block;">
  <input type="text" matInput placeholder="Find your car by vin"
         (input)="filterCars($event.target)">
</mat-form-field>

<mat-form-field style="width: 200px; margin: 3px; display: block;">
  <input type="text" matInput placeholder="Find your car by name"
         (input)="filterCarsByName($event.target)">
</mat-form-field>

<mat-form-field style="width: 200px; margin: 3px; display: block;">
  <input type="text" matInput placeholder="Find your car by type"
         (input)="filterCarsByType($event.target)">
</mat-form-field>

<h2>Add Car</h2>
<button (click)="addCar()">
  <mat-icon>plus_one</mat-icon>
</button>
<h2>Delete All Cars</h2>
<button (click)="deleteCars()">
  <mat-icon>delete</mat-icon>
</button>

<div>
  <table style="width:20%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Plates</th>
      <th>Vin</th>
      <th>ManufacturingYear</th>
      <th>Category</th>
      <th>Rented</th>
      <th>Started</th>
      <th>LastRentalDate</th>
      <th>BringBackDate</th>
      <th>Last Service Date</th>
      <th>Menu</th>
    </tr>
    <tr *ngFor="let car of cars">
      <td>{{car.name}}</td>
      <td>{{car.type}}</td>
      <td>{{car.plates}}</td>
      <td>{{car.vin}}</td>
      <td>{{car.manufacturingYear}}</td>
      <td>{{car.category}}</td>
      <td>{{car.rented ? "yes" : "no"}}</td>
      <td>{{car.started ? "yes" : "no"}}</td>
      <td>{{car.lastRentalDate}}</td>
      <td>{{car.bringBackDate}}</td>
      <td>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Choose a date</mat-label>
          <input matInput [matDatepicker]="picker">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker touchUi #picker></mat-datepicker>
        </mat-form-field>
      </td>

      <td>
        <button mat-button [matMenuTriggerFor]="mainMenu">
          <mat-icon>menu</mat-icon>
        </button>
        <mat-menu #mainMenu overlapTrigger xPosition="after" yPosition="below">
          <button (click)="rentCar(car.vin)">rent car</button>
          <button (click)="bringBackCar(car.vin)">bring car</button>
          <button (click)="startCar(car.vin)">start car</button>
          <button (click)="stopCar(car.vin)">stop car</button>
          <button button (click)="deleteCar(car.vin)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-menu>
      </td>
    </tr>

  </table>

</div>


<router-outlet></router-outlet>
